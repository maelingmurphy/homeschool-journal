{% extends 'base.html' %}

{% block title %}
    Edit Profile: {{ current_user.username }}
{% endblock %}

{% block content %}
    <div class="profile-container">
        <div>
            <p class="profile-heading">Username: {{ current_user.username }}</p>
        </div>
        <div class="">
            <p class="profile-heading">Email: {{ current_user.email }}</p>
        </div>
        <div class="profile-flex">
            <div class="profile-flex-item">
                <p class="profile-heading">Students</p>
                <form method="POST" action="/profile-edit" class="form" role="form" novalidate>
                    {{ form.csrf_token() }}
                    <div class="form-group">
                        {{ form.student_name.label }}
                        <div id="student-container">    
                            {{ form.student_name(class_="form-control", placeholder="Enter student's name") }}       
                        </div>
                        {% for error in form.student_name.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <p>{{ form.submit(class_='btn btn-primary') }}</p>
                </form>
                {% for student in current_user.students %}
                    <p>{{ student }}<a href="{{ url_for('remove_student', id=student.id) }}" class="btn btn-danger profile-edit-btn">Remove</a></p>
                {% endfor %}
            </div>
            <div class="profile-flex-item">
                <p class="profile-heading">Subjects</p>
                <form method="POST" action="/profile-edit" class="form" role="form" novalidate>
                    {{ form2.csrf_token() }}
                    <div class="form-group">
                        {{ form2.subject_name.label }}
                        <div id="student-container">    
                            {{ form2.subject_name(class_="form-control", placeholder="Enter subject name") }}       
                        </div>
                        {% for error in form2.subject_name.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <p>{{ form2.submit(class_='btn btn-primary') }}</p>
                </form>
                {% for subject in current_user.subjects %}
                    <p>{{ subject }}<a href="{{ url_for('remove_subject', id=subject.id) }}" class="btn btn-danger profile-edit-btn">Remove</a></p>
                {% endfor %}
            </div>
        </div>
        
        
    </div>
    
{% endblock %}